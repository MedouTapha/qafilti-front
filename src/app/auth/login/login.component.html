<div class="flex flex-column gap-3" style="max-width:600px;margin:2rem auto;">
  <h2 class="m-0">Se connecter</h2>

  <!-- Formulaire de connexion -->
  <div class="p-inputgroup">
    <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
    <input pInputText type="email" [(ngModel)]="form.email" placeholder="Email" />
  </div>
  <div class="p-inputgroup">
    <span class="p-inputgroup-addon"><i class="pi pi-lock"></i></span>
    <input pInputText type="password" [(ngModel)]="form.password" placeholder="Mot de passe" />
  </div>
  <div *ngIf="error" class="p-error">{{ error }}</div>
  <button pButton label="Connexion" (click)="submit()"></button>
  <div class="text-sm">
    Pas de compte ? <a routerLink="/inscription">Inscrivez-vous</a>
  </div>

  <!-- Utilisateurs de test -->
  <p-card header="Utilisateurs de test (Mock)" styleClass="mt-4">
    <div class="flex flex-column gap-2">
      <div *ngFor="let user of mockUsers" class="flex align-items-center justify-content-between p-2 border-1 surface-border border-round">
        <div class="flex flex-column gap-1">
          <span class="font-bold">{{ user.email }}</span>
          <span class="text-sm text-600">Mot de passe: {{ user.password }}</span>
          <span class="text-sm">
            <i class="pi pi-user mr-1"></i>
            Rôle:
            <span class="font-semibold" [ngClass]="{
              'text-blue-500': user.role === 'comptoir',
              'text-green-500': user.role === 'caissier',
              'text-red-500': user.role === 'admin'
            }">{{ user.role }}</span>
          </span>
        </div>
        <button
          pButton
          label="Utiliser"
          size="small"
          (click)="fillCredentials(user.email, user.password)"
        ></button>
      </div>
    </div>

    <!-- Légende des permissions -->
    <div class="mt-3 p-3 surface-100 border-round">
      <h4 class="mt-0 mb-2">Permissions par rôle:</h4>
      <ul class="m-0 pl-3">
        <li class="text-blue-500 mb-1"><strong>Comptoir</strong>: Réservations, Passagers</li>
        <li class="text-green-500 mb-1"><strong>Caissier</strong>: Colis, Paiements</li>
        <li class="text-red-500"><strong>Admin</strong>: Accès complet (Administration, Rapports)</li>
      </ul>
    </div>
  </p-card>
</div>
