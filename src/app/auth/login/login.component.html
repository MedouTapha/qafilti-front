<div class="login-wrapper">
  <div class="login-container animate-scale-in">
    <!-- Header -->
    <div class="login-header">
      <div class="logo-wrapper">
        <i class="pi pi-ticket logo-icon"></i>
      </div>
      <h1 class="login-title">Qafilti</h1>
      <p class="login-subtitle">Bienvenue ! Connectez-vous à votre compte</p>
    </div>

    <!-- Login Form -->
    <form class="login-form">
      <div class="form-group">
        <label class="form-label">
          <i class="pi pi-envelope"></i>
          Adresse email
        </label>
        <input pInputText type="email" [(ngModel)]="form.email"
               name="email" placeholder="votre@email.com" class="w-full" />
      </div>

      <div class="form-group">
        <label class="form-label">
          <i class="pi pi-lock"></i>
          Mot de passe
        </label>
        <input pInputText type="password" [(ngModel)]="form.password"
               name="password" placeholder="••••••••" class="w-full" />
      </div>

      <div *ngIf="error" class="error-message">
        <i class="pi pi-exclamation-circle"></i>
        {{ error }}
      </div>

      <button pButton label="Se connecter" icon="pi pi-sign-in"
              (click)="submit()" class="login-button" type="button"></button>

      <div class="login-footer">
        <span>Pas encore de compte ?</span>
        <a routerLink="/inscription" class="register-link">Inscrivez-vous</a>
      </div>
    </form>

    <!-- Divider -->
    <div class="divider">
      <span>Comptes de test</span>
    </div>

    <!-- Mock Users Cards -->
    <div class="mock-users-grid">
      <div *ngFor="let user of mockUsers" class="mock-user-card"
           (click)="fillCredentials(user.email, user.password)">
        <div class="mock-user-header" [ngClass]="{
          'role-comptoir': user.role === 'comptoir',
          'role-caissier': user.role === 'caissier',
          'role-admin': user.role === 'admin'
        }">
          <i class="pi pi-user"></i>
          <span class="role-badge">{{ user.role }}</span>
        </div>
        <div class="mock-user-body">
          <div class="mock-user-email">{{ user.email }}</div>
          <div class="mock-user-password">
            <i class="pi pi-lock"></i>
            {{ user.password }}
          </div>
        </div>
        <button pButton label="Utiliser ce compte" icon="pi pi-arrow-right"
                iconPos="right" size="small" class="w-full mock-user-btn"></button>
      </div>
    </div>

    <!-- Permissions Info -->
    <div class="permissions-info">
      <h4 class="permissions-title">
        <i class="pi pi-info-circle"></i>
        Permissions par rôle
      </h4>
      <div class="permissions-list">
        <div class="permission-item role-comptoir">
          <i class="pi pi-circle-fill"></i>
          <span><strong>Comptoir</strong>: Réservations, Passagers</span>
        </div>
        <div class="permission-item role-caissier">
          <i class="pi pi-circle-fill"></i>
          <span><strong>Caissier</strong>: Colis, Paiements</span>
        </div>
        <div class="permission-item role-admin">
          <i class="pi pi-circle-fill"></i>
          <span><strong>Admin</strong>: Accès complet (Administration, Rapports)</span>
        </div>
      </div>
    </div>
  </div>
</div>
