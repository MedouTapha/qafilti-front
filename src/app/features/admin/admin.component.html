<p-tabs [value]="0">
  <p-tablist>
    <p-tab [value]="0" label="Trajets"></p-tab>
    <p-tab [value]="1" label="Véhicules"></p-tab>
    <p-tab [value]="2" label="Tarifs"></p-tab>
  </p-tablist>
  <p-tabpanels>
    <p-tabpanel [value]="0">
      <div class="flex justify-content-between align-items-center mb-2">
        <h3 class="m-0">Trajets</h3>
        <button pButton label="Ajouter" (click)="openTrajet()"></button>
      </div>
      <p-table [value]="trajets()">
        <ng-template pTemplate="header">
          <tr><th>Code</th><th>Origine</th><th>Destination</th><th>Actions</th></tr>
        </ng-template>
        <ng-template pTemplate="body" let-t>
          <tr>
            <td>{{ t.code }}</td>
            <td>{{ t.origine }}</td>
            <td>{{ t.destination }}</td>
            <td>
              <button pButton icon="pi pi-pencil" (click)="editTrajet(t)"></button>
              <button pButton icon="pi pi-times" severity="danger" (click)="removeTrajet(t)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabpanel>
    <p-tabpanel [value]="1">
      <div class="flex justify-content-between align-items-center mb-2">
        <h3 class="m-0">Véhicules</h3>
        <button pButton label="Ajouter" (click)="openVehicule()"></button>
      </div>
      <p-table [value]="vehicules()">
        <ng-template pTemplate="header">
          <tr><th>Matricule</th><th>Modèle</th><th>Capacité</th><th>Actions</th></tr>
        </ng-template>
        <ng-template pTemplate="body" let-v>
          <tr>
            <td>{{ v.matricule }}</td>
            <td>{{ v.modele }}</td>
            <td>{{ v.capacite }}</td>
            <td>
              <button pButton icon="pi pi-pencil" (click)="editVehicule(v)"></button>
              <button pButton icon="pi pi-times" severity="danger" (click)="removeVehicule(v)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabpanel>
    <p-tabpanel [value]="2">
      <div class="flex justify-content-between align-items-center mb-2">
        <h3 class="m-0">Tarifs</h3>
        <button pButton label="Ajouter" (click)="openTarif()"></button>
      </div>
      <p-table [value]="tarifs()">
        <ng-template pTemplate="header">
          <tr><th>Trajet</th><th>Prix (€)</th><th>Actions</th></tr>
        </ng-template>
        <ng-template pTemplate="body" let-f>
          <tr>
            <td>{{ f.trajet }}</td>
            <td>{{ f.prix }}</td>
            <td>
              <button pButton icon="pi pi-pencil" (click)="editTarif(f)"></button>
              <button pButton icon="pi pi-times" severity="danger" (click)="removeTarif(f)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabpanel>
  </p-tabpanels>
</p-tabs>

<!-- Dialogs -->
<p-dialog [(visible)]="trajetDialog" header="Trajet" [modal]="true" [style]="{width:'420px'}">
  <div class="flex flex-column gap-2">
    <input pInputText placeholder="Code" [(ngModel)]="trajetForm.code" />
    <input pInputText placeholder="Origine" [(ngModel)]="trajetForm.origine" />
    <input pInputText placeholder="Destination" [(ngModel)]="trajetForm.destination" />
  </div>
  <ng-template pTemplate="footer">
    <button pButton label="Annuler" (click)="trajetDialog=false" text></button>
    <button pButton label="Enregistrer" (click)="saveTrajet()"></button>
  </ng-template>
</p-dialog>

<p-dialog [(visible)]="vehiculeDialog" header="Véhicule" [modal]="true" [style]="{width:'420px'}">
  <div class="flex flex-column gap-2">
    <input pInputText placeholder="Matricule" [(ngModel)]="vehiculeForm.matricule" />
    <input pInputText placeholder="Modèle" [(ngModel)]="vehiculeForm.modele" />
    <input pInputText placeholder="Capacité" [(ngModel)]="vehiculeForm.capacite" />
  </div>
  <ng-template pTemplate="footer">
    <button pButton label="Annuler" (click)="vehiculeDialog=false" text></button>
    <button pButton label="Enregistrer" (click)="saveVehicule()"></button>
  </ng-template>
</p-dialog>

<p-dialog [(visible)]="tarifDialog" header="Tarif" [modal]="true" [style]="{width:'420px'}">
  <div class="flex flex-column gap-2">
    <input pInputText placeholder="Trajet" [(ngModel)]="tarifForm.trajet" />
    <input pInputText placeholder="Prix (€)" [(ngModel)]="tarifForm.prix" />
  </div>
  <ng-template pTemplate="footer">
    <button pButton label="Annuler" (click)="tarifDialog=false" text></button>
    <button pButton label="Enregistrer" (click)="saveTarif()"></button>
  </ng-template>
</p-dialog>
